<template>
	<div class="star" :class="starType">
		<span v-for="(star, index) in starClasses" :class="star" class="star-item"></span>
	</div>
</template>

<script>
	const LENGTH = 5;
	const CLS_ON = 'on';
	const CLS_HALF = 'half';
	const CLS_OFF = 'off';
	
	export default {
		props:{
			size: {
				type: Number
			},
			score: {
				type: Number
			}
		},
		computed: {
			starType() {
				return 'star-' + this.size;
			},
			starClasses() {
				let result = [];
				let score = Math.floor(this.score * 2) / 2;
				let hasDecimal = score % 1 !== 0;
				let integer = Math.floor(score);
				for(let i = 0; i < integer; i++){
					result.push(CLS_ON);
				}
				if(hasDecimal){
					result.push(CLS_HALF);
				}
				while (result.length < LENGTH){
					result.push(CLS_OFF);
				}
				console.log(result)
				return result;
			}
		},
		data(){
			return {
				
			}
		},
		mounted(){
		},
		methods: {
			
		}
	}
</script>

<style lang="less">
	@import "../../assets/less/mixin.less";
	
	.star {
		font-size: 0;
		.star-item {
			display: inline-block;
			background: no-repeat;
			&:last-child { margin-right: 0;}
		}
		&.star-24 {
			.star-item {
				margin-right: 3px;
				width: 10px;
				height: 10px;
				background-size: 10px 10px;
				&.on { .bg-image('star24_on');}
				&.half { .bg-image('star24_half');}
				&.off { .bg-image('star24_off');}
			}
		}
		&.star-36 {
			.star-item {
				margin-right: 6px;
				width: 15px;
				height: 15px;
				background-size: 15px 15px;
				&.on { .bg-image('star36_on');}
				&.half { .bg-image('star36_half');}
				&.off { .bg-image('star36_off');}
			}
		}
		&.star-48 {
			.star-item {
				margin-right: 22px;
				width: 20px;
				height: 20px;
				background-size: 20px 20px;
				&.on { .bg-image('star48_on');}
				&.half { .bg-image('star48_half');}
				&.off { .bg-image('star48_off');}
			}
		}
	}
	
</style>